<schema xmlns="http://www.w3.org/2001/XMLSchema"
	targetNamespace="https://github.com/kjq2019/xml/blob/main"
	xmlns:b="https://github.com/kjq2019/xml/blob/main"
	elementFormDefault="qualified">
	
	<complexType name="bookshop" mixed="true">
		<sequence>
			<element name="scientific" type="b:scientificType"></element>
			<element name="leisure" type="b:leisureType"></element>
		</sequence>
	</complexType>
		
	<complexType name="scientificType">
		<sequence>
			<element name="book" type="b:bookType1" minOccurs="0" maxOccurs="unbounded"></element>
			<element name="journal" type="b:journalType" minOccurs="0" maxOccurs="unbounded"></element>
		</sequence>
	</complexType>
	
	<complexType name="leisureType">
		<sequence>
			<element name="book" type="b:bookType2" minOccurs="0" maxOccurs="unbounded"></element>
			<element name="periodical" type="b:periodicalType" minOccurs="0" maxOccurs="unbounded"></element>
		</sequence>
	</complexType>
	
	<complexType name="bookType1">
		<sequence>
			<element name="title" type="string"></element>
			<choice>
				<sequence>
					<element name="author" type="string" minOccurs="1" maxOccurs="unbounded"></element>
				</sequence>
				<sequence>
					<element name="editor" type="string" minOccurs="1" maxOccurs="unbounded"></element>
				</sequence>
			</choice>
			<element name="publisher" type="string"></element>
			<element name="year" type="integer"></element>
			<element name="abstract" type="string" minOccurs="0" maxOccurs="1"></element>
			<element name="edition" type="string" minOccurs="0" maxOccurs="1"></element>
			<element name="ISBN" type="string" minOccurs="0" maxOccurs="1"></element>
		</sequence>
	</complexType>

	<complexType name="journalType">
		<sequence>
			<element name="title" type="string"></element>
			<element name="volume" type="integer"></element>
			<element name="number" type="integer"></element>
			<choice>
				<sequence>
					<element name="author" type="string" minOccurs="1" maxOccurs="unbounded"></element>
				</sequence>
				<sequence>
					<element name="editor" type="string" minOccurs="1" maxOccurs="unbounded"></element>
				</sequence>
			</choice>
			<element name="year" type="integer"></element>
			<element name="publisher" type="string" minOccurs="0" maxOccurs="1"></element>
			<element name="impact_factor" minOccurs="0" maxOccurs="1">
				<complexType>
					<sequence>
						<element name="value" type="float"></element>
						<element name="valid_year" type="integer"></element>
					</sequence>
				</complexType>
			</element>
			<element name="article" type="b:articleType" minOccurs="1" maxOccurs="unbounded"></element>
		</sequence>
	</complexType>
	
	<!--
	<element name="impact factor" type="b:impact factor" minOccurs="0" maxOccurs="1"></element>
	<complexType name="impact factor">
		<simpleContent>
			<extension base="float">
				<attribute name="year" type="integer"></attribute>
			</extension>
		</simpleContent>
	</complexType>
	-->
	
	<complexType name="articleType">
		<sequence>
			<element name="title" type="string"></element>
			<element name="author" type="string" minOccurs="1" maxOccurs="unbounded"></element>
			<choice>
				<element name="page">
					<complexType>
						<sequence>
							<element name="start" type="integer"></element>
							<element name="end" type="integer"></element>
						</sequence>
					</complexType>
				</element>
				<element name="article_number" type="integer"></element>
			</choice>
		</sequence>
	</complexType>

	<complexType name="bookType2">
		<sequence>
			<element name="title" type="string"></element>
			<element name="author" type="string" minOccurs="1" maxOccurs="unbounded"></element>
			<element name="publisher" type="string"></element>
			<element name="year" type="integer"></element>
			<element name="edition" type="string" minOccurs="0" maxOccurs="1"></element>
			<element name="number_page" type="integer" minOccurs="0" maxOccurs="1"></element>
		</sequence>
		<attribute name="genre" use="required">
			<simpleType>
				<restriction base="string">
					<pattern value="thriller | horror | sci/fi | romance | literature"></pattern>
				</restriction>
			</simpleType>
		</attribute>
	</complexType>

	<complexType name="periodicalType">
		<sequence>
			<element name="title" type="string"></element>
			<element name="price" type="float"></element>
			<element name="publisher" type="string"></element>
		</sequence>
	</complexType>
	
	<!--Global element declaration-->
	<element name="Bookshop" type="bookshop"></element>
	
</schema>